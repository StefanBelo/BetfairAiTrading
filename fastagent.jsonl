{"level":"ERROR","timestamp":"2025-12-19T12:06:40.805556","namespace":"fast_agent.llm.provider.openai.llm_openai.BfexplorerApp","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["http","","localhost",11434,"/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent\"},{\"role\":\"user\",\"content\":\"get active market\"}],\"model\":\"openai/gpt-4.1\",\"max_tokens\":2048,\"parallel_tool_calls\":true,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_active_market\",\"description\":\"Retrieves the currently active betfair market being monitored in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{}}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_strategy_setting\",\"description\":\"Retrieves the strategy settings in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"strategyName\":{\"description\":\"The strategy name.\",\"type\":\"string\"}},\"required\":[\"strategyName\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__activate_market_selection\",\"description\":\"Activate both the betfair market and its selection in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"},\"selectionId\":{\"description\":\"The betfair selection id.\",\"type\":\"string\"}},\"required\":[\"marketId\",\"selectionId\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_monitored_markets\",\"description\":\"Retrieves a list of markets being monitored in betfair through Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{}}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_all_strategy_templates\",\"description\":\"Retrieves the list of available strategy templates in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{}}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__execute_strategy_settings_with_parameters\",\"description\":\"Execute the strategy on the selected market and selection using the specified parameters in JSON format in Bfexplorer\",\"parameters\":{\"type\":\"object\",\"properties\":{\"strategyName\":{\"description\":\"The strategy name.\",\"type\":\"string\"},\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"},\"selectionId\":{\"description\":\"The betfair selection id.\",\"type\":\"string\"},\"parameters\":{\"description\":\"The specified parameters for the executed strategy are in JSON format.\",\"type\":\"string\"}},\"required\":[\"strategyName\",\"marketId\",\"selectionId\",\"parameters\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__set_ai_agent_data_context_for_market\",\"description\":\"Sets the AI agent\\'s data context for the betfair market in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"dataContextName\":{\"description\":\"The data context name.\",\"type\":\"string\"},\"jsonData\":{\"description\":\"The json data generated by AI Agent.\",\"type\":\"string\"},\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"}},\"required\":[\"dataContextName\",\"jsonData\",\"marketId\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_data_context_for_market_selection\",\"description\":\"Retrieves the data context for the betfair market selection in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"dataContextNames\":{\"description\":\"The data context names.\",\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"},\"selectionId\":{\"description\":\"The betfair selection id.\",\"type\":\"string\"}},\"required\":[\"dataContextNames\",\"marketId\",\"selectionId\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_all_strategy_settings\",\"description\":\"Retrieves the list of available strategy settings in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{}}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_ai_agent_data_context_feedback\",\"description\":\"Retrieves the AI agent\\'s data context feedback.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"dataContextName\":{\"description\":\"The data context name.\",\"type\":\"string\"},\"forLastResults\":{\"description\":\"The number of recent results to retrieve.\",\"type\":\"integer\"}},\"required\":[\"dataContextName\",\"forLastResults\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_all_bet_results\",\"description\":\"Retrieves all bet results from closed betfair markets.\",\"parameters\":{\"type\":\"object\",\"properties\":{}}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__execute_strategy_settings_on_selections\",\"description\":\"Execute the strategy on the selected market and the selections in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"strategyName\":{\"description\":\"The strategy name.\",\"type\":\"string\"},\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"},\"selectionIds\":{\"description\":\"The array of betfair selection ids.\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}},\"required\":[\"strategyName\",\"marketId\",\"selectionIds\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__execute_strategy_settings\",\"description\":\"Execute the strategy on the selected market and selection in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"strategyName\":{\"description\":\"The strategy name.\",\"type\":\"string\"},\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"},\"selectionId\":{\"description\":\"The betfair selection id.\",\"type\":\"string\"}},\"required\":[\"strategyName\",\"marketId\",\"selectionId\"]}}},{\"type\":\"function\",\"function\":{\"name\":\"BfexplorerApp__get_all_data_context_for_market\",\"description\":\"Retrieves the all data context for the betfair market and all selections in Bfexplorer.\",\"parameters\":{\"type\":\"object\",\"properties\":{\"dataContextNames\":{\"description\":\"The data context names.\",\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"marketId\":{\"description\":\"The betfair market id.\",\"type\":\"string\"}},\"required\":[\"dataContextNames\",\"marketId\"]}}}]}'"},"message":"Request timed out.","body":null,"code":null,"param":null,"type":null}}}
